<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leave Management</title>
    <script src="https://kit.fontawesome.com/a2d9d5bd8b.js" crossorigin="anonymous"></script>
    <style>
        :root {
            --primary-color: #2e8b57;
            --secondary-color: #e0f7fa;
            --accent-color: #26a69a;
            --text-color: #355c7d;
            --light-color: #ffffff;
            --dark-bg: #1a1a2e;
            --dark-card: #16213e;
            --dark-text: #e6e6e6;
            --dark-hover: #0f3460;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        body {
            display: flex;
            background-color: #f5f5f5;
            color: var(--text-color);
            transition: all 0.3s ease;
        }
        
        body.dark-mode {
            background-color: var(--dark-bg);
            color: var(--dark-text);
        }
        
        /* Sidebar Styles */
        .sidebar {
            width: 250px;
            height: 100vh;
            background: #ffffff;
            box-shadow: 2px 0 10px rgba(46, 139, 87, 0.5);
            position: fixed;
            padding: 20px 0;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .sidebar {
            background-color: var(--dark-card);
            box-shadow: 2px 0 10px rgba(26, 252, 142, 0.3);
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 20px 20px;
            border-bottom: 1px solid #eee;
            margin-bottom: 20px;
        }
        
        body.dark-mode .logo-container {
            border-bottom: 1px solid #333;
        }
        
        .logo-icon {
            font-size: 2rem;
            color: var(--primary-color);
            margin-right: 10px;
        }
        
        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            font-family: 'Playfair Display', serif;
        }
            /* Menu Item Styles */
    .menu-item {
        padding: 15px 25px;
        display: flex;
        align-items: center;
        cursor: pointer;
        transition: all 0.3s ease;
        color: var(--text-color);
        text-decoration: none;
        position: relative;
    }

    body.dark-mode .menu-item {
        color: var(--dark-text);
    }

    .menu-item:hover {
        background-color: var(--secondary-color);
        color: var(--primary-color);
    }

    body.dark-mode .menu-item:hover {
        background-color: var(--dark-hover);
    }

    /* Active menu item styles */
    .menu-item.active {
        background-color: var(--secondary-color);
        color: var(--primary-color);
        border-left: 4px solid var(--primary-color);
        font-weight: 600;
    }

    body.dark-mode .menu-item.active {
        background-color: var(--dark-hover);
        color: var(--light-color);
    }

    /* Sub-menu styles */
    .sub-menu {
        padding-left: 40px;
        display: none;
        background-color: rgba(224, 247, 250, 0.3);
        border-left: 3px solid var(--primary-color);
    }

    body.dark-mode .sub-menu {
        background-color: rgba(22, 33, 62, 0.5);
    }

    .sub-menu.show {
        display: block;
    }

    .sub-menu-item {
        padding: 10px 15px;
        display: block;
        color: var(--text-color);
        text-decoration: none;
        transition: all 0.3s ease;
        font-size: 0.9rem;
    }

    body.dark-mode .sub-menu-item {
        color: var(--dark-text);
    }

    .sub-menu-item:hover {
        color: var(--primary-color);
        background-color: rgba(46, 139, 87, 0.1);
    }

    body.dark-mode .sub-menu-item:hover {
        background-color: var(--dark-hover);
    }
            
        /* Main Content Styles */
        .main-content {
            margin-left: 250px;
            width: calc(100% - 250px);
            padding: 20px;
            background-color: #f9f9f9;
            min-height: 100vh;
            transition: all 0.3s ease;
        }
        
        body.dark-mode .main-content {
            background-color: var(--dark-bg);
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: var(--light-color);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        body.dark-mode .header {
            background-color: var(--dark-card);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .user-info {
            display: flex;
            align-items: center;
        }
        
        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        /* Dashboard Content Styles */
        .dashboard-title {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin-bottom: 20px;
            font-family: 'Playfair Display', serif;
        }
        
        /* Table Styles */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        body.dark-mode th,
        body.dark-mode td {
            border-bottom: 1px solid #333;
            color: var(--dark-text);
        }
        
        th {
            background-color: var(--secondary-color);
            color: var(--primary-color);
            font-weight: 600;
        }
        
        body.dark-mode th {
            background-color: var(--dark-hover);
        }
        
        tr:hover {
            background-color: rgba(224, 247, 250, 0.5);
        }
        
        body.dark-mode tr:hover {
            background-color: var(--dark-hover);
        }
        
        /* Status badges */
        .status-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: capitalize;
        }
        
        .status-pending {
            background-color: #FFF3CD;
            color: #856404;
        }
        
        body.dark-mode .status-pending {
            background-color: #856404;
            color: #FFF3CD;
        }
        
        .status-approved {
            background-color: #D4EDDA;
            color: #155724;
        }
        
        body.dark-mode .status-approved {
            background-color: #155724;
            color: #D4EDDA;
        }
        
        .status-declined {
            background-color: #F8D7DA;
            color: #721C24;
        }
        
        body.dark-mode .status-declined {
            background-color: #721C24;
            color: #F8D7DA;
        }
        
        /* Action buttons */
        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: 500;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .action-btn i {
            font-size: 0.9rem;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #247a4a;
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #5a6268;
        }
        
        .btn-danger {
            background-color: #dc3545;
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c82333;
        }
        
        .btn-success {
            background-color: #28a745;
            color: white;
        }
        
        .btn-success:hover {
            background-color: #218838;
        }
        
        /* Header buttons */
        .header-buttons {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .dark-mode-toggle,
        .burger-menu {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--text-color);
            transition: all 0.3s ease;
        }
        
        body.dark-mode .dark-mode-toggle,
        body.dark-mode .burger-menu {
            color: var(--dark-text);
        }
        
        .dark-mode-toggle:hover,
        .burger-menu:hover {
            color: var(--primary-color);
            transform: scale(1.1);
        }
        
        /* Responsive Styles */
        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
            }
            .sidebar .logo-text,
            .sidebar .menu-item span {
                display: none;
            }
            .sidebar .menu-item {
                justify-content: center;
            }
            .sidebar .menu-item i {
                margin-right: 0;
                font-size: 1.5rem;
            }
            .main-content {
                margin-left: 70px;
                width: calc(100% - 70px);
            }
            .header h2 {
                font-size: 1.2rem;
            }
            .logo-text {
                display: none;
            }
            .burger-menu {
                display: block;
            }
        }
        
        @media (min-width: 769px) {
            .burger-menu {
                display: none;
            }
        }
        
        /* Tab styles */
        .tab-container {
            margin-bottom: 20px;
        }
        
        .tab-header {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        body.dark-mode .tab-header {
            border-bottom: 1px solid #444;
        }
        
        .tab-btn {
            padding: 10px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 500;
            color: #666;
            border-bottom: 3px solid transparent;
        }
        
        body.dark-mode .tab-btn {
            color: #aaa;
        }
        
        .tab-btn.active {
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Search and filter styles */
        .search-filter-container {
            margin-bottom: 20px;
        }
        
        .search-box {
            position: relative;
            margin-bottom: 15px;
        }
        
        .search-box input {
            width: 100%;
            padding: 8px 15px 8px 35px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        body.dark-mode .search-box input {
            background-color: #333;
            color: white;
            border-color: #555;
        }
        
        .search-icon {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #777;
        }
        
        body.dark-mode .search-icon {
            color: #aaa;
        }
        
        .filter-select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        body.dark-mode .filter-select {
            background-color: #333;
            color: white;
            border-color: #555;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            overflow-y: auto;
        }
        
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 800px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        body.dark-mode .modal-content {
            background-color: var(--dark-card);
            color: var(--dark-text);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        body.dark-mode .modal-header {
            border-bottom: 1px solid #333;
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #777;
        }
        
        body.dark-mode .close-btn {
            color: #aaa;
        }
        
        .close-btn:hover {
            color: #333;
        }
        
        body.dark-mode .close-btn:hover {
            color: #fff;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        body.dark-mode .form-control {
            background-color: #333;
            color: white;
            border-color: #555;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        body.dark-mode .modal-footer {
            border-top: 1px solid #333;
        }
        
        /* Utility classes */
        .d-flex {
            display: flex;
        }
        
        .justify-content-between {
            justify-content: space-between;
        }
        
        .mb-3 {
            margin-bottom: 1rem;
        }
        
        .mb-4 {
            margin-bottom: 1.5rem;
        }
        
        .mt-4 {
            margin-top: 1.5rem;
        }
        
        .w-100 {
            width: 100%;
        }
        
        .text-white {
            color: white;
        }
        
        .bg-primary {
            background-color: var(--primary-color);
        }
        
        .table-responsive {
            overflow-x: auto;
        }
        
        .table-striped tbody tr:nth-child(odd) {
            background-color: rgba(0, 0, 0, 0.05);
        }
        
        body.dark-mode .table-striped tbody tr:nth-child(odd) {
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        .table-hover tbody tr:hover {
            background-color: rgba(0, 0, 0, 0.075);
        }
        
        body.dark-mode .table-hover tbody tr:hover {
            background-color: rgba(255, 255, 255, 0.075);
        }
        
        .invalid-feedback {
            color: #dc3545;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
        
        body.dark-mode .invalid-feedback {
            color: #ff6b6b;
        }
        
        /* Grid layout */
        .row {
            display: flex;
            flex-wrap: wrap;
            margin-right: -10px;
            margin-left: -10px;
        }
        
        .col-md-2, .col-md-3, .col-md-4, .col-md-6 {
            position: relative;
            width: 100%;
            padding-right: 10px;
            padding-left: 10px;
        }
        
        @media (min-width: 768px) {
            .col-md-2 {
                flex: 0 0 16.666667%;
                max-width: 16.666667%;
            }
            .col-md-3 {
                flex: 0 0 25%;
                max-width: 25%;
            }
            .col-md-4 {
                flex: 0 0 33.333333%;
                max-width: 33.333333%;
            }
            .col-md-6 {
                flex: 0 0 50%;
                max-width: 50%;
            }
        }
        
        .input-group {
            display: flex;
            align-items: stretch;
        }
        
        .input-group-text {
            display: flex;
            align-items: center;
            padding: 0.375rem 0.75rem;
            margin-bottom: 0;
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #495057;
            text-align: center;
            white-space: nowrap;
            background-color: #e9ecef;
            border: 1px solid #ced4da;
            border-radius: 0.25rem;
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
        }
        
        body.dark-mode .input-group-text {
            background-color: #495057;
            border-color: #6c757d;
            color: #e9ecef;
        }
        
        .input-group input {
            position: relative;
            flex: 1 1 auto;
            width: 1%;
            min-width: 0;
            margin-bottom: 0;
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }
    </style>
</head>

<body>
            <!-- Sidebar Navigation -->
        <div class="sidebar">
            <div class="logo-container">
                <i class="fas fa-umbrella-beach logo-icon"></i>
                <span class="logo-text">PARADISE HOTEL</span>
            </div>

            <a href="dashboard.html" class="menu-item">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>

            <div class="menu-item">
                <i class="fas fa-chart-pie"></i>
                <span>Data Insight</span>
                <i class="fas fa-chevron-down" style="margin-left: auto;"></i>
            </div>
            <div class="sub-menu">
                <a href="data_insight.html" class="sub-menu-item">Analytics</a>
            </div>

            <a href="employee.html" class="menu-item">
                <i class="fas fa-users"></i>
                <span>Employee & Shift Management</span>
            </a>

            <a href="leave.html" class="menu-item active">
                <i class="fas fa-calendar-check"></i>
                <span>Leave Management</span>
            </a>

            <a href="violation.html" class="menu-item">
                <i class="fas fa-exclamation-triangle"></i>
                <span>Employee Violation</span>
            </a>
        </div>

    <!-- Main Content Area -->
    <div class="main-content">
        <div class="header">
            <div style="display: flex; align-items: center; gap: 15px;">
                <button class="burger-menu" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
                <h2>Admin Dashboard</h2>
            </div>
            <div class="header-buttons">
                <button class="dark-mode-toggle" onclick="toggleDarkMode()">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="user-info">
                    <img src="https://via.placeholder.com/40" alt="User">
                    <span>Admin User</span>
                </div>
            </div>
        </div>
        
        <div class="container-fluid mt-4">
            <h2 class="mb-4">Leave Management</h2>
            
            <!-- Tab Navigation -->
            <div class="tab-header">
                <button class="tab-btn active" onclick="openTab('requests')">Leave Requests</button>
                <button class="tab-btn" onclick="openTab('balances')">Leave Balances</button>
                <button class="tab-btn" onclick="openTab('history')">Leave History</button>
            </div>
            
            <!-- Tab Content -->
            <div id="requests" class="tab-content active">
                <div class="d-flex justify-content-between mb-3">
                    <button class="btn btn-primary" onclick="openModal('newRequestModal')">
                        <i class="fas fa-plus-circle"></i> New Leave Request
                    </button>
                    <div class="search-filter-container">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                                    <input type="text" class="form-control" id="requestSearch" placeholder="Search employee...">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <select class="filter-select" id="requestStatusFilter">
                                    <option value="">All Statuses</option>
                                    <option value="Pending">Pending</option>
                                    <option value="Approved">Approved</option>
                                    <option value="Rejected">Rejected</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <select class="filter-select" id="requestTypeFilter">
                                    <option value="">All Leave Types</option>
                                    <option value="Vacation">Vacation Leave</option>
                                    <option value="Sick">Sick Leave</option>
                                    <option value="Emergency">Emergency Leave</option>
                                    <option value="Bereavement">Bereavement Leave</option>
                                    <option value="Maternity">Maternity Leave</option>
                                    <option value="Paternity">Paternity Leave</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-secondary w-100" id="resetRequestFilters">Reset</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>Employee</th>
                                <th>Leave Type</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Days</th>
                                <th>Reason</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="requestsTableBody">
                            <!-- Sample data - will be populated by JavaScript -->
                            <tr>
                                <td>John Doe</td>
                                <td>Vacation</td>
                                <td>205-4-15</td>
                                <td>205-4-20</td>
                                <td>5</td>
                                <td>Family vacation</td>
                                <td><span class="status-badge status-pending">Pending</span></td>
                                <td>
                                    <button class="action-btn btn-success" onclick="showActionModal('approve', '1')">
                                        <i class="fas fa-check"></i> Approve
                                    </button>
                                    <button class="action-btn btn-danger" onclick="showActionModal('reject', '1')">
                                        <i class="fas fa-times"></i> Reject
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Jane Smith</td>
                                <td>Sick</td>
                                <td>2025-3-10</td>
                                <td>2025-03-12</td>
                                <td>2</td>
                                <td>Flu</td>
                                <td><span class="status-badge status-approved">Approved</span></td>
                                <td>
                                    <button class="action-btn btn-secondary" disabled>
                                        <i class="fas fa-check"></i> Approved
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Leave Balances tab section -->
            <div class="d-flex justify-content-between mb-3">
                <button class="btn btn-primary" onclick="openModal('addBalancesModal')">
                    <i class="fas fa-plus-circle"></i> Add Leave Balances
                </button>
                <div class="search-filter-container">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-search"></i></span>
                                <input type="text" class="form-control" id="balanceSearch" placeholder="Search employee...">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <select class="filter-select" id="balanceDepartmentFilter">
                                <option value="">All Departments</option>
                                <option value="HR">HR</option>
                                <option value="IT">IT</option>
                                <option value="Finance">Finance</option>
                                <option value="Marketing">Marketing</option>
                                <option value="Operations">Operations</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-secondary w-100" id="resetBalanceFilters">Reset</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>Employee ID</th>
                                <th>Employee Name</th>
                                <th>Department</th>
                                <th>Vacation</th>
                                <th>Sick</th>
                                <th>Emergency</th>
                                <th>Bereavement</th>
                                <th>Maternity</th>
                                <th>Paternity</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody id="balancesTableBody">
                            <!-- Sample data - will be populated by JavaScript -->
                            <tr>
                                <td>EMP001</td>
                                <td>John Doe</td>
                                <td>IT</td>
                                <td>5</td>
                                <td>5</td>
                                <td>5</td>
                                <td>3</td>
                                <td>60</td>
                                <td>7</td>
                                <td>85</td>
                            </tr>
                            <tr>
                                <td>EMP002</td>
                                <td>Jane Smith</td>
                                <td>HR</td>
                                <td>5</td>
                                <td>5</td>
                                <td>5</td>
                                <td>3</td>
                                <td>60</td>
                                <td>5</td>
                                <td>83</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div id="history" class="tab-content">
                <div class="search-filter-container mb-3">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="input-group">
                                <span class="input-group-text"><i class="fas fa-search"></i></span>
                                <input type="text" class="form-control" id="historySearch" placeholder="Search employee...">
                            </div>
                        </div>
                        <div class="col-md-2">
                            <select class="filter-select" id="historyStatusFilter">
                                <option value="">All Statuses</option>
                                <option value="Approved">Approved</option>
                                <option value="Rejected">Rejected</option>
                            </select>
                        </div>
                        <div class="col-md-2">
                            <select class="filter-select" id="historyTypeFilter">
                                <option value="">All Types</option>
                                <option value="Vacation">Vacation Leave</option>
                                <option value="Sick">Sick Leave</option>
                                <option value="Emergency">Emergency Leave</option>
                                <option value="Bereavement">Bereavement Leave</option>
                                <option value="Maternity">Maternity Leave</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <input type="month" class="form-control" id="historyMonthFilter">
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-secondary w-100" id="resetHistoryFilters">Reset</button>
                        </div>
                    </div>
                </div>
                
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>Employee</th>
                                <th>Leave Type</th>
                                <th>Start Date</th>
                                <th>End Date</th>
                                <th>Days</th>
                                <th>Status</th>
                                <th>Approved By</th>
                                <th>Date Processed</th>
                            </tr>
                        </thead>
                        <tbody id="historyTableBody">
                            <!-- Sample data - will be populated by JavaScript -->
                            <tr>
                                <td>John Doe</td>
                                <td>Vacation</td>
                                <td>2023-05-10</td>
                                <td>2023-05-15</td>
                                <td>5</td>
                                <td><span class="status-badge status-approved">Approved</span></td>
                                <td>Admin User</td>
                                <td>2023-05-08</td>
                            </tr>
                            <tr>
                                <td>Jane Smith</td>
                                <td>Sick</td>
                                <td>2023-05-20</td>
                                <td>2023-05-22</td>
                                <td>2</td>
                                <td><span class="status-badge status-approved">Approved</span></td>
                                <td>Admin User</td>
                                <td>2023-05-19</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- New Leave Request Modal -->
    <div id="newRequestModal" class="modal">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title">New Leave Request</h5>
                <button type="button" class="close-btn" onclick="closeModal('newRequestModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="leaveRequestForm">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="employeeSelect" class="form-label">Employee</label>
                            <select class="form-control" id="employeeSelect" required>
                                <option value="">Select Employee</option>
                                <option value="1">John Doe (EMP001)</option>
                                <option value="2">Jane Smith (EMP002)</option>
                                <option value="3">Mike Johnson (EMP003)</option>
                            </select>
                            <div class="invalid-feedback">Please select an employee</div>
                        </div>
                        <div class="col-md-6">
                            <label for="leaveType" class="form-label">Leave Type</label>
                            <select class="form-control" id="leaveType" required>
                                <option value="">Select Leave Type</option>
                                <option value="Vacation">Vacation</option>
                                <option value="Sick">Sick</option>
                                <option value="Emergency">Emergency</option>
                                <option value="Bereavement">Bereavement</option>
                                <option value="Maternity">Maternity</option>
                                <option value="Paternity">Paternity</option>
                            </select>
                            <div class="invalid-feedback">Please select a leave type</div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="startDate" class="form-label">Start Date</label>
                            <input type="date" class="form-control" id="startDate" required>
                            <div class="invalid-feedback">Please select a start date</div>
                        </div>
                        <div class="col-md-6">
                            <label for="endDate" class="form-label">End Date</label>
                            <input type="date" class="form-control" id="endDate" required>
                            <div class="invalid-feedback">Please select an end date</div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="leaveReason" class="form-label">Reason</label>
                        <textarea class="form-control" id="leaveReason" rows="3" required></textarea>
                        <div class="invalid-feedback">Please provide a reason</div>
                    </div>
                    <div class="mb-3">
                        <label for="contactInfo" class="form-label">Contact Information During Leave</label>
                        <input type="text" class="form-control" id="contactInfo" required>
                        <div class="invalid-feedback">Please provide contact information</div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('newRequestModal')">Cancel</button>
                <button type="button" class="btn btn-primary" id="submitLeaveRequest">Submit Request</button>
            </div>
        </div>
    </div>
    <!-- Add Leave Balances Modal -->
<div id="addBalancesModal" class="modal">
    <div class="modal-content">
        <div class="modal-header bg-primary text-white">
            <h5 class="modal-title">Add Leave Balances for Next Year</h5>
            <button type="button" class="close-btn" onclick="closeModal('addBalancesModal')">&times;</button>
        </div>
        <div class="modal-body">
            <form id="addBalancesForm">
                <div class="mb-3">
                    <label for="yearSelect" class="form-label">Year</label>
                    <select class="form-control" id="yearSelect" required>
                        <option value="">Select Year</option>
                        <option value="2024">2024</option>
                        <option value="2025">2025</option>
                        <option value="2026">2026</option>
                    </select>
                    <div class="invalid-feedback">Please select a year</div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Leave Allocation Policy</label>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="radio" name="allocationPolicy" id="policyDefault" value="default" checked>
                        <label class="form-check-label" for="policyDefault">
                            Use default company policy
                        </label>
                    </div>
                    <div class="form-check mb-2">
                        <input class="form-check-input" type="radio" name="allocationPolicy" id="policyCustom" value="custom">
                        <label class="form-check-label" for="policyCustom">
                            Set custom allocations
                        </label>
                    </div> 
                </div>
                
                <div id="customAllocations" style="display: none;">
                    <div class="row mb-3">         
                        <div class="col-md-6">
                            <label for="vacationDays" class="form-label">Vacation Days</label>
                            <input type="number" class="form-control" id="vacationDays" min="0" value="5">
                        </div>
                        <div class="col-md-6">
                            <label for="sickDays" class="form-label">Sick Days</label>
                            <input type="number" class="form-control" id="sickDays" min="0" value="5">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="emergencyDays" class="form-label">Emergency Days</label>
                            <input type="number" class="form-control" id="emergencyDays" min="0" value="5">
                        </div>
                        <div class="col-md-6">
                            <label for="bereavementDays" class="form-label">Bereavement Days</label>
                            <input type="number" class="form-control" id="bereavementDays" min="0" value="5">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="maternityDays" class="form-label">Maternity Days</label>
                            <input type="number" class="form-control" id="maternityDays" min="0" value="60">
                        </div>
                        <div class="col-md-6">
                            <label for="paternityDays" class="form-label">Paternity Days</label>
                            <input type="number" class="form-control" id="paternityDays" min="0" value="7">
                        </div>
                    </div>
                </div>
                
                <div class="mb-3">
                    <label for="employeeScope" class="form-label">Apply To</label>
                    <select class="form-control" id="employeeScope" required>
                        <option value="all">All Employees</option>
                        <option value="department">Specific Department</option>
                        <option value="employee">Specific Employees</option>
                    </select>
                </div>
                
                <div id="departmentSelection" class="mb-3" style="display: none;">
                    <label for="departmentSelect" class="form-label">Select Department</label>
                    <select class="form-control" id="departmentSelect">
                        <option value="HR">HR</option>
                        <option value="IT">IT</option>
                        <option value="Finance">Finance</option>
                        <option value="Marketing">Marketing</option>
                        <option value="Operations">Operations</option>
                    </select>
                </div>
                
                <div id="employeeSelection" class="mb-3" style="display: none;">
                    <label for="employeeMultiSelect" class="form-label">Select Employees</label>
                    <select class="form-control" id="employeeMultiSelect" multiple>
                        <option value="1">John Doe (EMP001)</option>
                        <option value="2">Jane Smith (EMP002)</option>
                        <option value="3">Mike Johnson (EMP003)</option>
                        <option value="4">Sarah Williams (EMP004)</option>
                        <option value="5">David Brown (EMP005)</option>
                    </select>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeModal('addBalancesModal')">Cancel</button>
            <button type="button" class="btn btn-primary" id="submitBalances">Add Balances</button>
        </div>
    </div>
</div>

    <!-- Action Modal (Approve/Reject) -->
    <div id="actionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="actionModalTitle">Approve Leave Request</h5>
                <button type="button" class="close-btn" onclick="closeModal('actionModal')">&times;</button>
            </div>
            <div class="modal-body">
                <p id="actionModalText">Are you sure you want to approve this leave request?</p>
                <div class="mb-3" id="rejectReasonContainer" style="display: none;">
                    <label for="rejectReason" class="form-label">Reason for Rejection</label>
                    <textarea class="form-control" id="rejectReason" rows="3"></textarea>
                    <div class="invalid-feedback">Please provide a reason for rejection</div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('actionModal')">Cancel</button>
                <button type="button" class="btn btn-success" id="confirmApprove">Approve</button>
                <button type="button" class="btn btn-danger" id="confirmReject">Reject</button>
            </div>
        </div>
    </div>

    <script>

        // Show/hide custom allocations based on radio selection
        document.querySelectorAll('input[name="allocationPolicy"]').forEach(radio => {
            radio.addEventListener('change', function() {
                document.getElementById('customAllocations').style.display = 
                    this.value === 'custom' ? 'block' : 'none';
            });
        });

        // Show/hide department or employee selection based on scope
        document.getElementById('employeeScope').addEventListener('change', function() {
            const departmentSelection = document.getElementById('departmentSelection');
            const employeeSelection = document.getElementById('employeeSelection');
            
            departmentSelection.style.display = this.value === 'department' ? 'block' : 'none';
            employeeSelection.style.display = this.value === 'employee' ? 'block' : 'none';
        });

        // Submit leave balances
        document.getElementById('submitBalances').addEventListener('click', function() {
            const form = document.getElementById('addBalancesForm');
            const yearSelect = document.getElementById('yearSelect');
            const isValid = yearSelect.value !== '';
            
            if (!isValid) {
                yearSelect.classList.add('is-invalid');
                return;
            }
            
            yearSelect.classList.remove('is-invalid');
            
            // Get form values
            const year = yearSelect.value;
            const policy = document.querySelector('input[name="allocationPolicy"]:checked').value;
            const scope = document.getElementById('employeeScope').value;
            
            let allocations = {};
            
            if (policy === 'custom') {
                allocations = {
                    vacation: parseInt(document.getElementById('vacationDays').value),
                    sick: parseInt(document.getElementById('sickDays').value),
                    emergency: parseInt(document.getElementById('emergencyDays').value),
                    bereavement: parseInt(document.getElementById('bereavementDays').value),
                    maternity: parseInt(document.getElementById('maternityDays').value),
                    paternity: parseInt(document.getElementById('paternityDays').value)
                };
            } else {
                // Default company policy values
                allocations = {
                    vacation: 15,
                    sick: 10,
                    emergency: 5,
                    bereavement: 3,
                    maternity: 60,
                    paternity: 7
                };
            }
            
            let target = '';
            if (scope === 'department') {
                target = document.getElementById('departmentSelect').value;
            } else if (scope === 'employee') {
                const selectedOptions = Array.from(document.getElementById('employeeMultiSelect').selectedOptions);
                target = selectedOptions.map(option => option.value).join(',');
            }
            
            // In a real application, you would send this data to the server
            console.log('Adding leave balances:', {
                year,
                policy,
                allocations,
                scope,
                target
            });
            
            alert(`Leave balances for ${year} have been added successfully!`);
            closeModal('addBalancesModal');
            form.reset();
            
            // Reset UI elements
            document.getElementById('customAllocations').style.display = 'none';
            document.getElementById('departmentSelection').style.display = 'none';
            document.getElementById('employeeSelection').style.display = 'none';
            
            // In a real app, you would refresh the balances table here
            // refreshBalancesTable();
        });
        // Toggle dark mode
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const darkModeToggle = document.querySelector('.dark-mode-toggle');
            const icon = darkModeToggle.querySelector('i');
            
            if (document.body.classList.contains('dark-mode')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
            
            // Save preference to localStorage
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
        }
        
        // Check for saved dark mode preference
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
            const darkModeToggle = document.querySelector('.dark-mode-toggle');
            const icon = darkModeToggle.querySelector('i');
            icon.classList.remove('fa-moon');
            icon.classList.add('fa-sun');
        }
        
        // Toggle sidebar
        function toggleSidebar() {
            const sidebar = document.querySelector('.sidebar');
            const mainContent = document.querySelector('.main-content');
            
            if (sidebar.style.width === '70px') {
                sidebar.style.width = '250px';
                mainContent.style.marginLeft = '250px';
                mainContent.style.width = 'calc(100% - 250px)';
                
                // Show text in menu items
                const menuTexts = document.querySelectorAll('.menu-item span');
                menuTexts.forEach(text => text.style.display = 'inline');
                
                // Show logo text
                document.querySelector('.logo-text').style.display = 'inline';
                
                // Restore chevron position
                const chevrons = document.querySelectorAll('.menu-item .fa-chevron-down');
                chevrons.forEach(chevron => chevron.style.marginLeft = 'auto');
                
                // Restore icon margins
                const icons = document.querySelectorAll('.menu-item i');
                icons.forEach(icon => {
                    if (!icon.classList.contains('fa-chevron-down')) {
                        icon.style.marginRight = '10px';
                    }
                });
            } else {
                sidebar.style.width = '70px';
                mainContent.style.marginLeft = '70px';
                mainContent.style.width = 'calc(100% - 70px)';
                
                // Hide text in menu items
                const menuTexts = document.querySelectorAll('.menu-item span');
                menuTexts.forEach(text => text.style.display = 'none');
                
                // Hide logo text
                document.querySelector('.logo-text').style.display = 'none';
                
                // Center chevrons
                const chevrons = document.querySelectorAll('.menu-item .fa-chevron-down');
                chevrons.forEach(chevron => chevron.style.marginLeft = '0');
                
                // Center icons
                const icons = document.querySelectorAll('.menu-item i');
                icons.forEach(icon => icon.style.marginRight = '0');
            }
        }
        
        // Tab functionality
        function openTab(tabName) {
            // Hide all tab contents
            const tabContents = document.getElementsByClassName('tab-content');
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }
            
            // Remove active class from all tab buttons
            const tabButtons = document.getElementsByClassName('tab-btn');
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove('active');
            }
            
            // Show the current tab and add active class to the button
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
        }
        
        // Modal functionality
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.className === 'modal') {
                event.target.style.display = 'none';
            }
        }
        
        // Action modal for approve/reject
        let currentRequestId = null;
        
        function showActionModal(action, requestId) {
            currentRequestId = requestId;
            const modal = document.getElementById('actionModal');
            const title = document.getElementById('actionModalTitle');
            const text = document.getElementById('actionModalText');
            const rejectContainer = document.getElementById('rejectReasonContainer');
            const approveBtn = document.getElementById('confirmApprove');
            const rejectBtn = document.getElementById('confirmReject');
            
            if (action === 'approve') {
                title.textContent = 'Approve Leave Request';
                text.textContent = 'Are you sure you want to approve this leave request?';
                rejectContainer.style.display = 'none';
                approveBtn.style.display = 'block';
                rejectBtn.style.display = 'none';
            } else {
                title.textContent = 'Reject Leave Request';
                text.textContent = 'Are you sure you want to reject this leave request?';
                rejectContainer.style.display = 'block';
                approveBtn.style.display = 'none';
                rejectBtn.style.display = 'block';
            }
            
            modal.style.display = 'block';
        }
        
        // Form submission for new leave request
        document.getElementById('submitLeaveRequest').addEventListener('click', function() {
            const form = document.getElementById('leaveRequestForm');
            const inputs = form.querySelectorAll('input, select, textarea');
            let isValid = true;
            
            // Validate all required fields
            inputs.forEach(input => {
                if (input.required && !input.value) {
                    input.classList.add('is-invalid');
                    isValid = false;
                } else {
                    input.classList.remove('is-invalid');
                }
            });
            
            if (isValid) {
                // Here you would typically send the data to the server
                alert('Leave request submitted successfully!');
                closeModal('newRequestModal');
                form.reset();
                
                // In a real application, you would add the new request to the table
                // For now, we'll just reload the page to show the sample data
                location.reload();
            }
        });
        
        // Confirm approve/reject actions
        document.getElementById('confirmApprove').addEventListener('click', function() {
            // In a real application, you would send this to the server
            alert(`Leave request ${currentRequestId} approved!`);
            closeModal('actionModal');
            
            // Update the status in the table
            const row = document.querySelector(`tr:nth-child(${currentRequestId}) td:nth-child(7)`);
            if (row) {
                row.innerHTML = '<span class="status-badge status-approved">Approved</span>';
                
                // Update actions column
                const actionsCell = row.parentNode.querySelector('td:nth-child(8)');
                actionsCell.innerHTML = '<button class="action-btn btn-secondary" disabled><i class="fas fa-check"></i> Approved</button>';
            }
        });
        
        document.getElementById('confirmReject').addEventListener('click', function() {
            const rejectReason = document.getElementById('rejectReason').value;
            
            if (!rejectReason) {
                document.getElementById('rejectReason').classList.add('is-invalid');
                return;
            }
            
            // In a real application, you would send this to the server
            alert(`Leave request ${currentRequestId} rejected with reason: ${rejectReason}`);
            closeModal('actionModal');
            
            // Update the status in the table
            const row = document.querySelector(`tr:nth-child(${currentRequestId}) td:nth-child(7)`);
            if (row) {
                row.innerHTML = '<span class="status-badge status-declined">Rejected</span>';
                
                // Update actions column
                const actionsCell = row.parentNode.querySelector('td:nth-child(8)');
                actionsCell.innerHTML = '<button class="action-btn btn-secondary" disabled><i class="fas fa-times"></i> Rejected</button>';
            }
        });
        
        // Reset filter buttons
        document.getElementById('resetRequestFilters').addEventListener('click', function() {
            document.getElementById('requestSearch').value = '';
            document.getElementById('requestStatusFilter').value = '';
            document.getElementById('requestTypeFilter').value = '';
        });
        
        document.getElementById('resetBalanceFilters').addEventListener('click', function() {
            document.getElementById('balanceSearch').value = '';
            document.getElementById('balanceDepartmentFilter').value = '';
        });
        
        document.getElementById('resetHistoryFilters').addEventListener('click', function() {
            document.getElementById('historySearch').value = '';
            document.getElementById('historyStatusFilter').value = '';
            document.getElementById('historyTypeFilter').value = '';
            document.getElementById('historyMonthFilter').value = '';
        });
        
        // In a real application, you would add event listeners for the filter inputs
        // to filter the table data dynamically
    </script>
</body>

</html>
